/*! For license information please see 320.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_team_smurf_deploy=self.webpackChunkproject_team_smurf_deploy||[]).push([[320],{3320:(e,t,r)=>{r.r(t),r.d(t,{default:()=>S});var n=r(6540),o=r(1445),a=r(1796);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const f=function(){var e=(0,n.useRef)(),t=(0,n.useRef)(),r=s((0,n.useState)({visible:!1,x:0,y:0,content:null}),2),i=r[0],l=r[1],u=s((0,n.useState)(null),2),f=u[0],y=u[1],m=s((0,n.useState)({}),2),h=m[0],v=m[1],g=s((0,n.useState)([]),2),b=g[0],x=g[1],E=s((0,n.useState)(null),2),w=E[0],S=E[1],k=s((0,n.useState)(null),2),A=k[0],O=k[1],C=s((0,n.useState)([]),2),j=C[0],T=C[1],P=s((0,n.useState)({}),2),L=(P[0],P[1]),M=s((0,n.useState)(!0),2),B=M[0],N=M[1],_=s((0,n.useState)(null),2),D=_[0],R=_[1],I=s((0,n.useState)(1950),2),W=I[0],F=(I[1],s((0,n.useState)(2023),2)),z=F[0],q=(F[1],s((0,n.useState)(0),2)),U=(q[0],q[1]),Y="/data/processed/processed_arms_transfer_by_weapon_types.csv",G={"Cote d'Ivoire":"Ivory Coast",Congo:"Republic of the Congo"};(0,n.useEffect)((function(){N(!0),Promise.all([o.Pq9("/countries-110m.json"),o.fu7(Y,(function(e){var t=+e.year,r=+e.quantity;return isNaN(t)||isNaN(r)||t<W||t>z?null:{recipients:e.recipients,suppliers:e.suppliers,year:Math.round(t),quantity:r,weaponDescription:e["weapon description"],status:e.status}}))]).then((function(e){var t=s(e,2),r=t[0],n=t[1];n=n.filter((function(e){return null!==e}));var o=a.A(r,r.objects.countries).features;x(o);var i={},l=new Set,c={};n.forEach((function(e){var t=e.recipients;t=G[t]||t;var r=e.year,n=e.weaponDescription?e.weaponDescription.trim():"",o=e.quantity,a=e.suppliers,u=e.status;""!==n&&l.add(n),i[t]||(i[t]={}),i[t][r]||(i[t][r]={}),i[t][r][n]={quantity:o,suppliers:a,status:u},c[n]||(c[n]={}),(!c[n][r]||o>c[n][r])&&(c[n][r]=o)}));var u,f=["All"].concat(function(e){if(Array.isArray(e))return d(e)}(u=Array.from(l).filter((function(e){return""!==e&&void 0!==e})).sort())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||p(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());T(f),v(i),L(c),N(!1),Array.from(new Set(n.map((function(e){return e.year})))).sort((function(e,t){return e-t})).length>0&&S(2019),f.includes("All")?O("All"):f.length>0&&O(f[0])})).catch((function(e){console.error("Error loading data:",e),R("Failed to load data. Please try again later."),N(!1)}))}),[]),(0,n.useEffect)((function(){0!==b.length&&0!==Object.keys(h).length&&null!==w&&!isNaN(w)&&A&&X(b,h,w,A)}),[w,A,h,b]),(0,n.useEffect)((function(){var r=.3*Math.min(200,200),a=o.Ltv(t.current).attr("width",200).attr("height",200);a.selectAll("*").remove(),o.fu7("/data/processed/processed_regional_transfers.csv").then((function(t){t.forEach((function(e){for(var t=1950;t<=2023;t++)e[t]=+e[t]/1e3||0}));var i=["Asia and Oceania","Europe","Middle East","Americas","Africa"],u=t.filter((function(e){return"World total"!==e["Imports by Regions"]&&"International organizations"!==e["Imports by Regions"]})),p=Array.from(o.Os0(u,(function(e){return e["Imports by Regions"]})),(function(e){var t=s(e,2);return{region:t[0],armsTrade:t[1][0][w]||0}})).sort((function(e,t){return i.indexOf(e.region)-i.indexOf(t.region)})),d=o.czq(p,(function(e){return e.armsTrade}));if(U(d),0!==d){var f={"Asia and Oceania":"#F44336",Europe:"#0D47A1","Middle East":"#388E3C",Americas:"#FF9800",Africa:"#6D4C41"},y=o.UMr().domain(p.map((function(e){return e.region}))).range(p.map((function(e){return f[e.region]}))),m=o.rLf().sort(null).startAngle(0).endAngle(2*Math.PI).value((function(e){return e.armsTrade})),h=o.JLW().outerRadius(r-10).innerRadius(0),v=o.JLW().outerRadius(r+20).innerRadius(r+20);a.append("g").attr("transform","translate(".concat(120,", ").concat(100,")")).selectAll("path").data(m(p)).enter().append("path").attr("d",h).attr("fill",(function(e){return y(e.data.region)})).attr("stroke","#e0e0e0").attr("stroke-width","1.5px").attr("opacity",.8).on("mouseenter",(function(t,r){var o=(r.data.armsTrade/d*100).toFixed(2),a=e.current.getBoundingClientRect(),i=t.clientX-a.left,c=t.clientY-a.top;l({visible:!0,x:i+10,y:c-10,content:n.createElement("div",null,n.createElement("strong",null,r.data.region,":")," $",r.data.armsTrade.toLocaleString(),"B (",o,"%)")})})).on("mousemove",(function(t){var r=e.current.getBoundingClientRect(),n=t.clientX-r.left,o=t.clientY-r.top;l((function(e){return c(c({},e),{},{x:n+10,y:o-10})}))})).on("mouseleave",(function(e){l({visible:!1,x:0,y:0,content:""}),o.Ltv(e.currentTarget).transition().duration(200).attr("d",h).attr("opacity",.85)})),a.append("g").attr("transform","translate(".concat(120,", ").concat(100,")")).selectAll("text").data(m(p)).enter().append("text").attr("transform",(function(e){var t=s(v.centroid(e),2),r=t[0],n=t[1],o=(e.startAngle+e.endAngle)/2*180/Math.PI-90;return 180*(e.endAngle-e.startAngle)/Math.PI<30?o>90&&(o-=180):o=0,"translate(".concat(r,", ").concat(n,") rotate(").concat(o,")")})).style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").style("fill","#e0e0e0").style("pointer-events","none").text((function(e){return"Asia and Oceania"===e.data.region?"APAC":"Middle East"===e.data.region?"ME":"Americas"===e.data.region?"AMS":e.data.region}))}else a.append("text").attr("x",100).attr("y",100).attr("text-anchor","middle").text("No data available for this year")})).catch((function(e){console.error("Error loading data:",e)}))}),[Y,w]);var X=function(t,r,a,i){var u,s,p,d=o.bAh().center([0,20]).scale(130).translate([400,200]),f=o.zFW().projection(d);"All"===i?(u=o.T9B(t,(function(e){var t,n=e.properties.name,o=null===(t=r[n])||void 0===t?void 0:t[a];return o?Object.values(o).reduce((function(e,t){return e+t.quantity}),0):0}))||0,s=o.exT(o.Q3).domain([Math.log(1),Math.log(u)]),p=o.Bv9().domain([0,u]).range([0,50])):(u=o.T9B(t,(function(e){var t;return(null===(t=r[e.properties.name])||void 0===t||null===(t=t[a])||void 0===t||null===(t=t[i])||void 0===t?void 0:t.quantity)||0}))||0,s=o.exT(o.Q3).domain([Math.log(1),Math.log(u)]),p=o.Bv9().domain([0,u]).range([0,50]));var m=o.Ltv(e.current).attr("viewBox","0 0 ".concat(800," ").concat(400)).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","auto").style("background-color","").call(o.s_O().scaleExtent([1,8]).on("zoom",(function(e){h.attr("transform",e.transform)}))),h=m.select("g.map-group");h.empty()&&(h=m.append("g").attr("class","map-group")),h.selectAll("*").remove();var v=function(e,t,r,o){if("All"===r){var a=Object.values(o).reduce((function(e,t){return e+t.quantity}),0);return n.createElement("div",{style:{lineHeight:"1.6",fontSize:"16px"}},n.createElement("strong",null,e),n.createElement("br",null),"Total Quantity: ",a," units",n.createElement("br",null),n.createElement("span",{style:{fontWeight:"bold",color:"#e74c3c"}},"Click for Details"))}return n.createElement("div",{style:{lineHeight:"1.6",fontSize:"16px"}},n.createElement("strong",null,e),n.createElement("br",null),"Weapon: ",r,n.createElement("br",null),"Quantity: ",o.quantity," units",n.createElement("br",null),"Status: ",o.status,n.createElement("br",null),n.createElement("span",{style:{fontWeight:"bold",color:"#e74c3c"}},"Click for Details"))},g=function(e){return s(Math.log(e))};h.selectAll("path").data(t).enter().append("path").attr("d",f).attr("fill",(function(e){var t=e.properties.name;if("All"===i){var n,o=null===(n=r[t])||void 0===n?void 0:n[a];if(o){var l=Object.values(o).reduce((function(e,t){return e+t.quantity}),0);return l>0?g(l):"#ccc"}return"#ccc"}var c,u=(null===(c=r[t])||void 0===c||null===(c=c[a])||void 0===c||null===(c=c[i])||void 0===c?void 0:c.quantity)||0;return u>0?g(u):"#ccc"})).attr("stroke","#333").on("mouseenter",(function(t,n){var o=n.properties.name,c=null;if("All"===i){var u,s=null===(u=r[o])||void 0===u?void 0:u[a];if(!s)return;c=v(o,0,i,s)}else{var p,d=null===(p=r[o])||void 0===p||null===(p=p[a])||void 0===p?void 0:p[i];if(!d)return;c=v(o,0,i,d)}var f=e.current.getBoundingClientRect(),y=t.clientX-f.left,m=t.clientY-f.top;l({visible:!0,x:y+10,y:m-10,content:c})})).on("mousemove",(function(t){var r=e.current.getBoundingClientRect(),n=t.clientX-r.left,o=t.clientY-r.top;l((function(e){return c(c({},e),{},{x:n+10,y:o-10})}))})).on("mouseleave",(function(){l({visible:!1,x:0,y:0,content:null})})).on("click",(function(e,t){var n=t.properties.name;if("All"===i){var o,l=null===(o=r[n])||void 0===o?void 0:o[a];if(!l)return;y({country:n,year:a,data:l})}else{var c,u=null===(c=r[n])||void 0===c||null===(c=c[a])||void 0===c?void 0:c[i];if(!u)return;y({country:n,year:a,weaponType:i,data:u})}})),h.selectAll("circle").data(t).enter().append("circle").attr("cx",(function(e){return d(o.Ewd(e))[0]})).attr("cy",(function(e){return d(o.Ewd(e))[1]})).attr("r",(function(e){var t=e.properties.name;if("All"===i){var n,o=null===(n=r[t])||void 0===n?void 0:n[a];return o?p(Object.values(o).reduce((function(e,t){return e+t.quantity}),0)):0}var l,c=(null===(l=r[t])||void 0===l||null===(l=l[a])||void 0===l||null===(l=l[i])||void 0===l?void 0:l.quantity)||0;return c>0?p(c):0})).attr("fill","rgba(255, 69, 0, 0.5)").attr("stroke","orange").attr("stroke-width",.5).on("mouseenter",(function(t,n){var o=n.properties.name,c=null;if("All"===i){var u,s=null===(u=r[o])||void 0===u?void 0:u[a];if(!s)return;c=v(o,0,i,s)}else{var p,d=null===(p=r[o])||void 0===p||null===(p=p[a])||void 0===p?void 0:p[i];if(!d)return;c=v(o,0,i,d)}var f=e.current.getBoundingClientRect(),y=t.clientX-f.left,m=t.clientY-f.top;l({visible:!0,x:y+10,y:m-10,content:c})})).on("mousemove",(function(t){var r=e.current.getBoundingClientRect(),n=t.clientX-r.left,o=t.clientY-r.top;l((function(e){return c(c({},e),{},{x:n+10,y:o-10})}))})).on("mouseleave",(function(){l({visible:!1,x:0,y:0,content:null})})).on("click",(function(e,t){var n=t.properties.name;if("All"===i){var o,l=null===(o=r[n])||void 0===o?void 0:o[a];if(!l)return;y({country:n,year:a,data:l})}else{var c,u=null===(c=r[n])||void 0===c||null===(c=c[a])||void 0===c?void 0:c[i];if(!u)return;y({country:n,year:a,weaponType:i,data:u})}}))},Q=function(){y(null)};return n.createElement("div",{style:{position:"relative",width:"100%",height:"auto"}},n.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"#e74c3c",paddingTop:"20px"}},"Arms Imports by Weapon Type ",w),B&&n.createElement("div",{className:"loading"},"Loading data..."),D&&n.createElement("div",{className:"error",style:{color:"red"}},D),!B&&!D&&n.createElement(n.Fragment,null,n.createElement("input",{type:"range",id:"yearSlider",min:W,max:z,step:1,value:w,onChange:function(e){return S(parseInt(e.target.value,10))},style:{width:"80%",appearance:"none",height:"8px",backgroundColor:"gray",borderRadius:"5px",outline:"none",margin:"20px auto 10px",display:"block",accentColor:"#e74c3c"},disabled:!A}),n.createElement("div",{style:{width:"100%",height:"100%",border:"3px solid #e74c3c",borderRadius:"8px"}},n.createElement("svg",{ref:e}),n.createElement("div",{style:{position:"absolute",height:"80px",width:"200px",top:"100px",left:"20px",background:"rgba(0, 0, 0, 0.9)",padding:"10px",borderRadius:"8px",fontSize:"16px",color:"#e0e0e0",display:"flex",flexDirection:"column"}},n.createElement("label",{htmlFor:"weaponTypeSelect",style:{display:"block",marginBottom:"10px"}},"Select Weapon Type"),n.createElement("select",{id:"weaponTypeSelect",onChange:function(e){return O(e.target.value)},value:A,"aria-label":"Select Weapon Type",style:{padding:"6px 10px",width:"180px",color:"#e0e0e0",backgroundColor:"black",borderRadius:"8px",fontSize:"16px"}},j.map((function(e){return n.createElement("option",{key:e,value:e},e)}))))),n.createElement("div",{style:{position:"absolute",bottom:"10px",left:"10px",backgroundColor:"",width:"225px",height:"200px",overflow:"hidden"}},n.createElement("svg",{ref:t,style:{width:"100%",height:"100%"}})),i.visible&&n.createElement("div",{style:{position:"absolute",top:i.y,left:i.x,backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#e0e0e0",padding:"12px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",fontSize:"16px",pointerEvents:"none",transition:"opacity 0.3s ease",opacity:i.visible?1:0,zIndex:10,whiteSpace:"nowrap",width:"auto",height:"auto"}},i.content),f&&n.createElement("div",{className:"modal",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:Q},n.createElement("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",maxWidth:"600px",width:"90%",maxHeight:"80%",overflowY:"auto",position:"relative"},onClick:function(e){return e.stopPropagation()}},n.createElement("button",{onClick:Q,style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"black"},"aria-label":"Close modal"},"Ã—"),n.createElement("p",{style:{color:"black"}},n.createElement("strong",null,"Country:")," ",f.country),n.createElement("p",{style:{color:"black"}},n.createElement("strong",null,"Year:")," ",f.year),"All"===A?n.createElement(n.Fragment,null,n.createElement("table",{style:{width:"100%",borderCollapse:"collapse",color:"black"}},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},"Weapon Type"),n.createElement("th",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},"Supplier"),n.createElement("th",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},"Quantity"),n.createElement("th",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},"Status"))),n.createElement("tbody",null,Object.entries(f.data).map((function(e){var t=s(e,2),r=t[0],o=t[1];return n.createElement("tr",{key:r},n.createElement("td",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},r),n.createElement("td",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},o.suppliers),n.createElement("td",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},o.quantity),n.createElement("td",{style:{border:"1px solid #ddd",padding:"8px",color:"black"}},o.status))}))))):n.createElement(n.Fragment,null,n.createElement("p",{style:{color:"black"}},n.createElement("strong",null,"Weapon Type:")," ",f.weaponType),n.createElement("p",{style:{color:"black"}},n.createElement("strong",null,"Supplier:")," ",f.data.suppliers),n.createElement("p",{style:{color:"black"}},n.createElement("strong",null,"Quantity:")," ",f.data.quantity," units"),n.createElement("p",{style:{color:"black"}},n.createElement("strong",null,"Status:")," ",f.data.status))))),D&&!B&&n.createElement("div",{style:{textAlign:"center",marginTop:"50px",color:"red"}},n.createElement("p",null,D)))};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(){g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,i=Object.create(a.prototype),l=new M(n||[]);return o(i,"_invoke",{value:j(e,r,l)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",f="suspendedYield",m="executing",h="completed",v={};function b(){}function x(){}function E(){}var w={};u(w,i,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(B([])));k&&k!==r&&n.call(k,i)&&(w=k);var A=E.prototype=b.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,a,i,l){var c=p(e[o],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==y(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=d;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var c=T(l,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?h:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function B(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return x.prototype=E,o(A,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:x,configurable:!0}),x.displayName=u(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},O(C.prototype),u(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new C(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(A),u(A,c,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=B,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:B(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function b(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const w=function(){var e=(0,n.useRef)(),t=x((0,n.useState)({visible:!1,x:0,y:0,content:null}),2),r=t[0],a=t[1],i=x((0,n.useState)(null),2),l=i[0],c=i[1],u=x((0,n.useState)(0),2),s=u[0],p=u[1],d=x((0,n.useState)([]),2),f=d[0],y=d[1],m=x((0,n.useState)(null),2),v=m[0],E=m[1];(0,n.useEffect)((function(){var e=function(){var e,t=(e=g().mark((function e(){var t,r,n,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/data/processed/processed_weapon_transfer_by_category.json");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("HTTP error! Status: ".concat(t.status));case 6:return e.next=8,t.json();case 8:r=e.sent,c(r),n=Array.from(new Set(Object.values(r.Exports).flatMap((function(e){return e.flatMap((function(e){return Object.keys(e).filter((function(e){return!isNaN(e)}))}))})))).sort((function(e,t){return e-t})),y(n),p(0),o=n.length-1,p(o),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error fetching data:",e.t0),E("Failed to load data. Please try again later.");case 21:case"end":return e.stop()}}),e,null,[[0,17]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){b(a,n,o,i,l,"next",e)}function l(e){b(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]);var w=(0,n.useMemo)((function(){return l?o.UMr().domain(["United States","Russia","China"]).range(["#4682B4","#DC143C","#FFDB58"]).unknown("#CCCCCC"):null}),[l]),S=(0,n.useMemo)((function(){var e=l?Object.values(l.Exports).flatMap((function(e){return e.map((function(e){return e["Unnamed: 1"]}))})):[];return o.UMr(o.vU7).domain(e)}),[l]);return(0,n.useEffect)((function(){if(l&&0!==f.length&&w&&S){var t=f[s],r={name:"Weapon Transfers by Country",children:Object.entries(l.Exports).map((function(e){var r=x(e,2);return{name:r[0],children:r[1].map((function(e){return{name:e["Unnamed: 1"],value:e[t]||0}})).filter((function(e){return e.value>0}))}})).filter((function(e){return e.children.length>0}))},i=o.Ltv(e.current).attr("viewBox","0 0 ".concat(1e3," ").concat(600)).style("background","transparent").style("cursor","pointer");i.selectAll("*").remove();var c=o.Sk5(r).sum((function(e){return e.value||0})).sort((function(e,t){return t.value-e.value}));o.qqI().size([990,590]).padding(10)(c);var u,p=c,d=function(e){var t=1e3/e[2];u=e,m.attr("transform",(function(r){return"translate(".concat((r.x-e[0])*t+500,", ").concat((r.y-e[1])*t+300,")")})),m.select("circle").attr("r",(function(e){return e.r*t})),m.selectAll("text").attr("fontSize",(function(e){return Math.max(10,e.r*t/4)}))},y=function(e,t){t&&(p=t,i.transition().duration(750).tween("zoom",(function(){var e=o.p7(u,[p.x,p.y,2.75*p.r]);return function(t){return d(e(t))}})))},m=i.append("g").attr("transform","translate(0, -20)").selectAll("g").data(c.descendants()).join("g").attr("transform",(function(e){return"translate(".concat(e.x,",").concat(e.y,")")}));return m.append("circle").attr("fill",(function(e){return 1===e.depth?w(e.data.name):2===e.depth?S(e.data.name):"#ccc"})).attr("fill-opacity",(function(e){return 1===e.depth||2===e.depth?1:0})).attr("stroke","none").attr("stroke-width",(function(e){return 1===e.depth||2===e.depth?2:.2})).attr("r",(function(e){return e.r})).style("transition","all 0.2s ease").on("mouseover",(function(e,t){if(t&&t.data&&0!==t.depth){var r=1===t.depth?t.data.name:t.parent&&t.parent.data?t.parent.data.name:"N/A",o=2===t.depth?t.data.name:"N/A",i=t.value?t.value.toLocaleString():"N/A";a({visible:!0,x:e.clientX+10,y:e.clientY-10,content:n.createElement("div",null,n.createElement("strong",null,r),2===t.depth&&n.createElement("br",null),"  ",2===t.depth&&"Type: ".concat(o),n.createElement("br",null),"Quantity: ",i)})}})).on("mousemove",(function(e){a((function(t){return h(h({},t),{},{x:e.clientX+10,y:e.clientY-10})}))})).on("mouseout",(function(){return a({visible:!1,x:0,y:0,content:null})})).on("click",(function(e,t){p!==t&&(y(0,t),e.stopPropagation())})),m.append("g").each((function(e){var t=o.Ltv(this),r=2===e.depth?e.data.name:"";if(r){var n=t.append("text").attr("textAnchor","middle").attr("dy",".3em").style("pointer-events","none").style("fill","#e0e0e0").style("font-weight","bold").style("font-size",(function(e){return"".concat(Math.max(12,e.r/4),"px")})).text(r),a=n.node().getBBox();t.insert("rect","text").attr("x",a.x-5).attr("y",a.y-5).attr("width",a.width+10).attr("height",a.height+10).attr("rx",5).attr("ry",5).style("fill","rgba(0, 0, 0, 0.7)").style("stroke","none").style("pointer-events","none")}})),d([c.x,c.y,2.75*c.r]),i.on("click",(function(){return y(0,c)})),function(){}}}),[l,s,f,w,S]),n.createElement("div",{style:{position:"relative",width:"100%",height:"auto"}},n.createElement("h3",{style:{textAlign:"center",fontSize:"24px",color:"#e74c3c",paddingTop:"20px"}},"Weapon Transfers by Category ",f[s]),v&&n.createElement("p",{style:{color:"#e74c3c",textAlign:"center"}},v),!v&&!l&&n.createElement("p",{style:{textAlign:"center",color:"#e0e0e0"}},"Loading..."),!v&&l&&f.length>0&&n.createElement(n.Fragment,null,n.createElement("input",{type:"range",id:"year-slider",min:"0",max:f.length-1,value:s,onChange:function(e){p(Number(e.target.value))},style:{width:"80%",appearance:"none",height:"8px",backgroundColor:"gray",borderRadius:"5px",outline:"none",margin:"20px auto 10px",display:"block",accentColor:"#e74c3c"}}),n.createElement("div",{style:{width:"100%",border:"3px solid #e74c3c",borderRadius:"8px"}},n.createElement("svg",{ref:e}),r.visible&&n.createElement("div",{style:{position:"fixed",top:r.y,left:r.x,backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#e0e0e0",padding:"12px",borderRadius:"8px",pointerEvents:"none",transform:"translate(-50%, -100%)",whiteSpace:"nowrap",lineHeight:"1.6",fontSize:"16px",zIndex:1e3}},r.content))))},S=function(){return n.createElement("section",{id:"005"},n.createElement("p",{className:"custom-title",style:{cssText:"margin-top: 0"}},"Preparing Allies for Emerging Threats"),n.createElement("p",{className:"custom-paragraph"},n.createElement("span",{style:{color:"#4682B4",fontWeight:"bold"}},"The United States")," strengthens regional defense by empowering allies, reducing the need for an extensive US military presence. Equipped with advanced weaponry from the US, allies like ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"Taiwan"),", ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"Japan"),", ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"South Korea"),", and the ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"Philippines")," bolster their capabilities to counter regional threats independently. This ",n.createElement("em",{style:{color:"orange",fontWeight:"bold"}},"Building Partner Capacity")," strategy has become even more significant amid rising South China Sea tensions, where US support to countries like the ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"Philippines"),", ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"Malaysia"),", ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"Brunei"),", and ",n.createElement("span",{style:{color:"#D2B48C",fontWeight:"bold"}},"Indonesia")," is crucial in deterring China's territorial ambitions."),n.createElement("p",{className:"custom-title"},"Exploring the Arms Trade Dynamic"),n.createElement("p",{className:"custom-paragraph"},"To explore this dynamic, use the Choropleth Map and Pie Chart to examine key years when South China Sea tensions escalated. By selecting years like ",n.createElement("em",{style:{color:"orange",fontWeight:"bold"}},"2010-2020"),", you can observe a noticeable rise in US arms imports by Asian allies and an increase in total arms trade in the Asia-Oceania region. This interactive view reveals the correlation between heightened regional disputes and the strategic arms support provided by the ",n.createElement("span",{style:{color:"#4682B4",fontWeight:"bold"}},"US")),n.createElement("div",{className:"chart-container",style:{width:"80%"}},n.createElement(f,null)),n.createElement("p",{className:"custom-title"},"Breakdown of Weapon Transfers by Category"),n.createElement("p",{className:"custom-paragraph"},"Missiles, aircraft, and other advanced weaponry dominate US exports, reflecting regional priorities and threats. This breakdown shows how arms transfers align with geopolitical objectives."),n.createElement("ul",null,n.createElement("li",null,"The ",n.createElement("span",{style:{color:"#4682B4"}},"United States")," supports countries in ",n.createElement("span",{style:{fontStyle:"italic"}},"Europe, the Middle East, and Asia-Pacific"),", reinforcing a defense line against rivals."),n.createElement("br",null),n.createElement("li",null,n.createElement("span",{style:{color:"#DC143C"}},"Russia ")," supplies nations in ",n.createElement("span",{style:{fontStyle:"italic"}},"Eastern Europe and Central Asia")," to counter NATO's reach."),n.createElement("br",null),n.createElement("li",null,n.createElement("span",{style:{color:"#FFD700"}},"China")," arms countries in ",n.createElement("span",{style:{fontStyle:"italic"}},"Southeast Asia, Africa, and South Asia"),", expanding its foothold in resource-rich areas."),n.createElement("br",null),n.createElement("li",null,"Countries like ",n.createElement("span",{style:{color:"#D2B48C"}},"India")," illustrate a multilateral approach, balancing relationships with the US, Russia, and others."),n.createElement("br",null)),n.createElement("p",{className:"custom-paragraph"},"Through this network, arms transfers reveal interdependent alliances, bolstered influence, and efforts to contain rivals."),n.createElement("div",{className:"chart-container",style:{width:"80%"}},n.createElement(w,null)))}},1796:(e,t,r)=>{function n(e){return e}function o(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return a(e,t)}))}:a(e,t)}function a(e,t){var r=t.id,o=t.bbox,a=null==t.properties?{}:t.properties,i=function(e,t){var r=function(e){if(null==e)return n;var t,r,o=e.scale[0],a=e.scale[1],i=e.translate[0],l=e.translate[1];return function(e,n){n||(t=r=0);var c=2,u=e.length,s=new Array(u);for(s[0]=(t+=e[0])*o+i,s[1]=(r+=e[1])*a+l;c<u;)s[c]=e[c],++c;return s}}(e.transform),o=e.arcs;function a(e,t){t.length&&t.pop();for(var n=o[e<0?~e:e],a=0,i=n.length;a<i;++a)t.push(r(n[a],a));e<0&&function(e,t){for(var r,n=e.length,o=n-t;o<--n;)r=e[o],e[o++]=e[n],e[n]=r}(t,i)}function i(e){return r(e)}function l(e){for(var t=[],r=0,n=e.length;r<n;++r)a(e[r],t);return t.length<2&&t.push(t[0]),t}function c(e){for(var t=l(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(c)}return function e(t){var r,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":r=i(t.coordinates);break;case"MultiPoint":r=t.coordinates.map(i);break;case"LineString":r=l(t.arcs);break;case"MultiLineString":r=t.arcs.map(l);break;case"Polygon":r=u(t.arcs);break;case"MultiPolygon":r=t.arcs.map(u);break;default:return null}return{type:n,coordinates:r}}(t)}(e,t);return null==r&&null==o?{type:"Feature",properties:a,geometry:i}:null==o?{type:"Feature",id:r,properties:a,geometry:i}:{type:"Feature",id:r,bbox:o,properties:a,geometry:i}}r.d(t,{A:()=>o})}}]);
//# sourceMappingURL=320.bundle.js.map